# GUIRA Fire Prevention System - Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# DJI Cloud API Configuration
# Obtain from: https://developer.dji.com/
# =============================================================================
DJI_APP_ID="your_app_id_here"
DJI_APP_KEY="your_app_key_here"
DJI_APP_LICENSE="your_app_license_here"

# Optional: Regional API endpoints
DJI_API_ENDPOINT="https://api-gateway.dji.com"          # Global (default)
# DJI_API_ENDPOINT="https://api-gateway-cn.dji.com"     # China

# =============================================================================
# Database Configuration
# =============================================================================
# Local Development (using docker-compose)
POSTGRES_CONN="postgresql://guira:guira_pass@localhost:5432/guira"

# Azure Database for PostgreSQL (when using cloud)
# POSTGRES_CONN="postgresql://username:password@server.postgres.database.azure.com:5432/guira?sslmode=require"

# =============================================================================
# Object Storage Configuration  
# =============================================================================
# Local Development (MinIO)
MINIO_ENDPOINT="http://localhost:9000"
MINIO_ACCESS_KEY="minioadmin"
MINIO_SECRET_KEY="minioadmin"

# Azure Storage Account (when using cloud)
AZURE_STORAGE_ACCOUNT="your-storage-account"
AZURE_STORAGE_CONNSTR="DefaultEndpointsProtocol=https;AccountName=your-account;AccountKey=your-key;EndpointSuffix=core.windows.net"

# =============================================================================
# Cache Configuration
# =============================================================================  
REDIS_URL="redis://localhost:6379/0"
REDIS_PASSWORD=""  # Leave empty for local dev

# =============================================================================
# Message Bus Configuration (Kafka)
# =============================================================================
KAFKA_BOOTSTRAP_SERVERS="localhost:9092"
KAFKA_CONSUMER_GROUP="guira-ingestion"

# Kafka Topics
KAFKA_TOPIC_FRAMES_RAW="frames.raw"
KAFKA_TOPIC_FRAMES_EMBEDDINGS="frames.embeddings"
KAFKA_TOPIC_DETECTIONS="detections"
KAFKA_TOPIC_SIMULATIONS="simulations"
KAFKA_TOPIC_ALERTS="alerts"

# =============================================================================
# Azure AI Services Configuration
# =============================================================================
AZURE_SEARCH_ENDPOINT="https://your-search-service.search.windows.net"
AZURE_SEARCH_KEY="your-search-admin-key"

AZURE_OPENAI_ENDPOINT="https://your-openai-resource.openai.azure.com"
AZURE_OPENAI_KEY="your-openai-key"

# =============================================================================
# Key Vault Configuration (Optional)
# When enabled, secrets will be retrieved from Azure Key Vault
# =============================================================================
USE_KEYVAULT=false
AZURE_KEYVAULT_URL="https://your-keyvault.vault.azure.net/"

# =============================================================================
# Application Configuration
# =============================================================================
DEBUG=true
LOG_LEVEL="INFO"
PORT=8000

# Security
SECRET_KEY="change-this-in-production"
ALLOWED_HOSTS="localhost,127.0.0.1"

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_DJI_INTEGRATION=true
ENABLE_LIVE_STREAMING=true
ENABLE_RAG_ANALYSIS=true
ENABLE_GEOSPATIAL_PROJECTION=true

# =============================================================================
# Model Configuration
# =============================================================================
# Model storage paths (relative to project root)
MODELS_DIR="models"
DATA_DIR="data"
EXPERIMENTS_DIR="experiments"

# GPU Configuration
CUDA_VISIBLE_DEVICES="0"  # Set to empty string for CPU-only
TORCH_HOME="./cache/torch"

# =============================================================================
# Monitoring & Logging
# =============================================================================
# Application Insights (optional)
APPINSIGHTS_INSTRUMENTATIONKEY=""

# Log aggregation
LOG_AGGREGATION_ENABLED=false
LOG_AGGREGATION_ENDPOINT=""